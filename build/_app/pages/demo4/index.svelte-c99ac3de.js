import{S as J,i as L,s as Q,e as u,j,t as q,c as v,a as m,d as f,l as w,g as C,ah as x,b as p,G as H,f as T,H as l,h as y,V as z,K as R}from"../../chunks/vendor-f0c1caf4.js";function B(o,e,r){const a=o.slice();return a[1]=e[r],a}function F(o){let e,r,a,c,n,t,i,s,d=o[1].name+"",V,A,E,D=o[1].email+"",b,K,I,g,O;return{c(){e=u("div"),r=u("div"),a=u("img"),n=j(),t=u("div"),i=u("main"),s=u("p"),V=q(d),A=j(),E=u("p"),b=q(D),K=j(),I=u("div"),g=u("div"),O=j(),this.h()},l(_){e=v(_,"DIV",{class:!0});var h=m(e);r=v(h,"DIV",{class:!0});var G=m(r);a=v(G,"IMG",{src:!0,alt:!0}),G.forEach(f),n=w(h),t=v(h,"DIV",{class:!0});var k=m(t);i=v(k,"MAIN",{});var S=m(i);s=v(S,"P",{});var M=m(s);V=C(M,d),M.forEach(f),A=w(S),E=v(S,"P",{});var N=m(E);b=C(N,D),N.forEach(f),S.forEach(f),K=w(k),I=v(k,"DIV",{class:!0});var P=m(I);g=v(P,"DIV",{class:!0}),m(g).forEach(f),P.forEach(f),k.forEach(f),O=w(h),h.forEach(f),this.h()},h(){x(a.src,c=o[1].avatar)||p(a,"src",c),p(a,"alt","user avatar"),p(r,"class","img-container"),p(g,"class","box"),H(g,"online",o[1].isOnline),p(I,"class","status"),p(t,"class","text"),p(e,"class","user-list")},m(_,h){T(_,e,h),l(e,r),l(r,a),l(e,n),l(e,t),l(t,i),l(i,s),l(s,V),l(i,A),l(i,E),l(E,b),l(t,K),l(t,I),l(I,g),l(e,O)},p(_,h){h&1&&!x(a.src,c=_[1].avatar)&&p(a,"src",c),h&1&&d!==(d=_[1].name+"")&&y(V,d),h&1&&D!==(D=_[1].email+"")&&y(b,D),h&1&&H(g,"online",_[1].isOnline)},d(_){_&&f(e)}}}function U(o){let e,r,a,c=o[0].users,n=[];for(let t=0;t<c.length;t+=1)n[t]=F(B(o,c,t));return{c(){e=u("section"),r=q(`In this demo, I fetch firestore with firestore Admin SDK in api endpoint (backend), then fetch again on server side (load function)\r
	`),a=u("div");for(let t=0;t<n.length;t+=1)n[t].c();this.h()},l(t){e=v(t,"SECTION",{});var i=m(e);r=C(i,`In this demo, I fetch firestore with firestore Admin SDK in api endpoint (backend), then fetch again on server side (load function)\r
	`),a=v(i,"DIV",{class:!0});var s=m(a);for(let d=0;d<n.length;d+=1)n[d].l(s);s.forEach(f),i.forEach(f),this.h()},h(){p(a,"class","users")},m(t,i){T(t,e,i),l(e,r),l(e,a);for(let s=0;s<n.length;s+=1)n[s].m(a,null)},p(t,[i]){if(i&1){c=t[0].users;let s;for(s=0;s<c.length;s+=1){const d=B(t,c,s);n[s]?n[s].p(d,i):(n[s]=F(d),n[s].c(),n[s].m(a,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=c.length}},i:z,o:z,d(t){t&&f(e),R(n,t)}}}const Y=async({fetch:o})=>{const e=await o("/demo4.json");if(e.ok)return{props:{users:await e.json()}}};function W(o,e,r){let{users:a}=e;return o.$$set=c=>{"users"in c&&r(0,a=c.users)},[a]}class Z extends J{constructor(e){super();L(this,e,W,U,Q,{users:0})}}export{Z as default,Y as load};
