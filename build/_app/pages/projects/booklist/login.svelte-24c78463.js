import{S as V,i as X,s as z,k as W,f as S,V as T,d as m,u as D,ac as G,X as J,e as d,t as w,c as _,a as g,g as L,H as o,j,l as P,b as k,W as C,I as q,a9 as K,a1 as Q}from"../../../chunks/vendor-f0c1caf4.js";import{a as F}from"../../../chunks/client-0607ff23.js";import{g as R}from"../../../chunks/navigation-c71191e7.js";import"../../../chunks/singletons-a42a5e91.js";function Y(u){let e,l;return{c(){e=d("p"),l=w("Checking user authentication staus...")},l(s){e=_(s,"P",{});var t=g(e);l=L(t,"Checking user authentication staus..."),t.forEach(m)},m(s,t){S(s,e,t),o(e,l)},p:T,d(s){s&&m(e)}}}function Z(u){let e,l,s,t,a,r,b,i,v,h,p,E,c,A,y,I,N,B;return{c(){e=d("form"),l=d("h3"),s=w("Login"),t=j(),a=d("label"),r=w("Email:"),b=j(),i=d("input"),v=j(),h=d("label"),p=w("Password:"),E=j(),c=d("input"),A=j(),y=d("button"),I=w("Login"),this.h()},l(f){e=_(f,"FORM",{});var n=g(e);l=_(n,"H3",{});var U=g(l);s=L(U,"Login"),U.forEach(m),t=P(n),a=_(n,"LABEL",{for:!0});var H=g(a);r=L(H,"Email:"),H.forEach(m),b=P(n),i=_(n,"INPUT",{type:!0,name:!0}),v=P(n),h=_(n,"LABEL",{for:!0});var M=g(h);p=L(M,"Password:"),M.forEach(m),E=P(n),c=_(n,"INPUT",{type:!0,name:!0}),A=P(n),y=_(n,"BUTTON",{});var O=g(y);I=L(O,"Login"),O.forEach(m),n.forEach(m),this.h()},h(){k(a,"for","email"),k(i,"type","text"),k(i,"name","email"),i.required=!0,k(h,"for","password"),k(c,"type","text"),k(c,"name","password"),c.required=!0},m(f,n){S(f,e,n),o(e,l),o(l,s),o(e,t),o(e,a),o(a,r),o(e,b),o(e,i),C(i,u[1]),o(e,v),o(e,h),o(h,p),o(e,E),o(e,c),C(c,u[2]),o(e,A),o(e,y),o(y,I),N||(B=[q(i,"input",u[4]),q(c,"input",u[5]),q(e,"submit",K(u[3]))],N=!0)},p(f,n){n&2&&i.value!==f[1]&&C(i,f[1]),n&4&&c.value!==f[2]&&C(c,f[2])},d(f){f&&m(e),N=!1,Q(B)}}}function $(u){let e;function l(a,r){return a[0]?Z:Y}let s=l(u),t=s(u);return{c(){t.c(),e=W()},l(a){t.l(a),e=W()},m(a,r){t.m(a,r),S(a,e,r)},p(a,[r]){s===(s=l(a))&&t?t.p(a,r):(t.d(1),t=s(a),t&&(t.c(),t.m(e.parentNode,e)))},i:T,o:T,d(a){t.d(a),a&&m(e)}}}function x(u,e,l){let s=!1,t="",a="",r=null,b=!1;const i=async()=>{try{if(!await G(F,t,a))throw new Error("Could not complete login !");r=null,b=!1,R("/projects/booklist")}catch(p){console.log(p.message),r=p.message,b=!1}};D(()=>{const p=J(F,E=>(E?R("/projects/booklist"):l(0,s=!0),()=>p))});function v(){t=this.value,l(1,t)}function h(){a=this.value,l(2,a)}return[s,t,a,i,v,h]}class ne extends V{constructor(e){super();X(this,e,x,$,z,{})}}export{ne as default};
