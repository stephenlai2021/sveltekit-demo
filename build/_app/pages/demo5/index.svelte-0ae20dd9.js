import{S as pe,i as be,s as ge,e as u,t as R,c as h,a as m,g as j,d as c,b as d,f as M,H as n,I as X,V as F,j as S,l as A,W as ae,a9 as Ee,a1 as ke,a5 as ie,X as Ie,a6 as De,E as Ve,k as K,G as Y,h as J,K as re,ah as Q}from"../../chunks/vendor-f0c1caf4.js";import{d as oe,a as ye}from"../../chunks/client-0607ff23.js";import{g as we}from"../../chunks/getDocs-f41a074f.js";function ne(r,l,e){const t=r.slice();return t[21]=l[e],t}function ce(r,l,e){const t=r.slice();return t[21]=l[e],t}function Te(r){let l,e=r[1]&&fe(r);return{c(){e&&e.c(),l=K()},l(t){e&&e.l(t),l=K()},m(t,s){e&&e.m(t,s),M(t,l,s)},p(t,s){t[1]?e?e.p(t,s):(e=fe(t),e.c(),e.m(l.parentNode,l)):e&&(e.d(1),e=null)},d(t){e&&e.d(t),t&&c(l)}}}function Ne(r){let l,e,t;return{c(){l=u("div"),e=u("img"),this.h()},l(s){l=h(s,"DIV",{class:!0});var i=m(l);e=h(i,"IMG",{src:!0,alt:!0,class:!0}),i.forEach(c),this.h()},h(){Q(e.src,t="https://upload.wikimedia.org/wikipedia/commons/b/b9/Youtube_loading_symbol_1_(wobbly).gif")||d(e,"src",t),d(e,"alt","avatar"),d(e,"class","svelte-1e9hh7o"),d(l,"class","loading svelte-1e9hh7o")},m(s,i){M(s,l,i),n(l,e)},p:F,d(s){s&&c(l)}}}function fe(r){let l,e=r[1],t=[];for(let s=0;s<e.length;s+=1)t[s]=_e(ce(r,e,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();l=K()},l(s){for(let i=0;i<t.length;i+=1)t[i].l(s);l=K()},m(s,i){for(let a=0;a<t.length;a+=1)t[a].m(s,i);M(s,l,i)},p(s,i){if(i&46){e=s[1];let a;for(a=0;a<e.length;a+=1){const o=ce(s,e,a);t[a]?t[a].p(o,i):(t[a]=_e(o),t[a].c(),t[a].m(l.parentNode,l))}for(;a<t.length;a+=1)t[a].d(1);t.length=e.length}},d(s){re(t,s),s&&c(l)}}}function ue(r){let l,e;return{c(){l=u("div"),e=u("img"),this.h()},l(t){l=h(t,"DIV",{class:!0});var s=m(l);e=h(s,"IMG",{alt:!0}),s.forEach(c),this.h()},h(){d(e,"alt",""),d(l,"class","img-container")},m(t,s){M(t,l,s),n(l,e),r[12](e)},p:F,d(t){t&&c(l),r[12](null)}}}function he(r){let l,e,t,s=r[21].name+"",i,a,o,f=r[21].email+"",b,E,y,k;return{c(){l=u("div"),e=u("main"),t=u("p"),i=R(s),a=S(),o=u("p"),b=R(f),E=S(),y=u("div"),k=u("div"),this.h()},l(p){l=h(p,"DIV",{class:!0});var g=m(l);e=h(g,"MAIN",{});var P=m(e);t=h(P,"P",{});var N=m(t);i=j(N,s),N.forEach(c),a=A(P),o=h(P,"P",{});var T=m(o);b=j(T,f),T.forEach(c),P.forEach(c),E=A(g),y=h(g,"DIV",{class:!0});var U=m(y);k=h(U,"DIV",{class:!0}),m(k).forEach(c),U.forEach(c),g.forEach(c),this.h()},h(){d(k,"class","box"),Y(k,"online",r[21].isOnline),d(y,"class","status"),d(l,"class","text")},m(p,g){M(p,l,g),n(l,e),n(e,t),n(t,i),n(e,a),n(e,o),n(o,b),n(l,E),n(l,y),n(y,k)},p(p,g){g&2&&s!==(s=p[21].name+"")&&J(i,s),g&2&&f!==(f=p[21].email+"")&&J(b,f),g&2&&Y(k,"online",p[21].isOnline)},d(p){p&&c(l)}}}function _e(r){let l,e,t,s,i=r[3]&&ue(r),a=r[5]&&he(r);return{c(){l=u("div"),e=u("div"),i&&i.c(),t=S(),a&&a.c(),s=S(),this.h()},l(o){l=h(o,"DIV",{class:!0});var f=m(l);e=h(f,"DIV",{class:!0});var b=m(e);i&&i.l(b),t=A(b),a&&a.l(b),b.forEach(c),s=A(f),f.forEach(c),this.h()},h(){d(e,"class","user-list"),d(l,"class","users")},m(o,f){M(o,l,f),n(l,e),i&&i.m(e,null),n(e,t),a&&a.m(e,null),n(l,s)},p(o,f){o[3]?i?i.p(o,f):(i=ue(o),i.c(),i.m(e,t)):i&&(i.d(1),i=null),o[5]?a?a.p(o,f):(a=he(o),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(o){o&&c(l),i&&i.d(),a&&a.d()}}}function de(r){let l,e;return{c(){l=u("p"),e=R("The user does not exist"),this.h()},l(t){l=h(t,"P",{class:!0});var s=m(l);e=j(s,"The user does not exist"),s.forEach(c),this.h()},h(){d(l,"class","error svelte-1e9hh7o")},m(t,s){M(t,l,s),n(l,e)},d(t){t&&c(l)}}}function me(r){let l,e,t,s,i;return{c(){l=u("div"),e=u("button"),t=R("Add friend"),this.h()},l(a){l=h(a,"DIV",{class:!0});var o=m(l);e=h(o,"BUTTON",{class:!0});var f=m(e);t=j(f,"Add friend"),f.forEach(c),o.forEach(c),this.h()},h(){d(e,"class","svelte-1e9hh7o"),d(l,"class","btn-container svelte-1e9hh7o")},m(a,o){M(a,l,o),n(l,e),n(e,t),s||(i=X(e,"click",r[9]),s=!0)},p:F,d(a){a&&c(l),s=!1,i()}}}function Oe(r){let l,e;return{c(){l=u("p"),e=R("...waiting")},l(t){l=h(t,"P",{});var s=m(l);e=j(s,"...waiting"),s.forEach(c)},m(t,s){M(t,l,s),n(l,e)},p:F,d(t){t&&c(l)}}}function Se(r){let l,e=r[1],t=[];for(let s=0;s<e.length;s+=1)t[s]=ve(ne(r,e,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();l=K()},l(s){for(let i=0;i<t.length;i+=1)t[i].l(s);l=K()},m(s,i){for(let a=0;a<t.length;a+=1)t[a].m(s,i);M(s,l,i)},p(s,i){if(i&2){e=s[1];let a;for(a=0;a<e.length;a+=1){const o=ne(s,e,a);t[a]?t[a].p(o,i):(t[a]=ve(o),t[a].c(),t[a].m(l.parentNode,l))}for(;a<t.length;a+=1)t[a].d(1);t.length=e.length}},d(s){re(t,s),s&&c(l)}}}function ve(r){let l,e,t,s,i,a,o,f,b=r[21].name+"",E,y,k,p=r[21].email+"",g,P,N,T,U;return{c(){l=u("div"),e=u("div"),t=u("img"),i=S(),a=u("div"),o=u("main"),f=u("p"),E=R(b),y=S(),k=u("p"),g=R(p),P=S(),N=u("div"),T=u("div"),U=S(),this.h()},l(I){l=h(I,"DIV",{class:!0});var _=m(l);e=h(_,"DIV",{class:!0});var C=m(e);t=h(C,"IMG",{src:!0,alt:!0}),C.forEach(c),i=A(_),a=h(_,"DIV",{class:!0});var G=m(a);o=h(G,"MAIN",{});var z=m(o);f=h(z,"P",{});var L=m(f);E=j(L,b),L.forEach(c),y=A(z),k=h(z,"P",{});var D=m(k);g=j(D,p),D.forEach(c),z.forEach(c),P=A(G),N=h(G,"DIV",{class:!0});var w=m(N);T=h(w,"DIV",{class:!0}),m(T).forEach(c),w.forEach(c),G.forEach(c),U=A(_),_.forEach(c),this.h()},h(){Q(t.src,s=r[21].avatar)||d(t,"src",s),d(t,"alt","user avatar"),d(e,"class","img-container"),d(T,"class","box"),Y(T,"online",r[21].isOnline),d(N,"class","status"),d(a,"class","text"),d(l,"class","user-list")},m(I,_){M(I,l,_),n(l,e),n(e,t),n(l,i),n(l,a),n(a,o),n(o,f),n(f,E),n(o,y),n(o,k),n(k,g),n(a,P),n(a,N),n(N,T),n(l,U)},p(I,_){_&2&&!Q(t.src,s=I[21].avatar)&&d(t,"src",s),_&2&&b!==(b=I[21].name+"")&&J(E,b),_&2&&p!==(p=I[21].email+"")&&J(g,p),_&2&&Y(T,"online",I[21].isOnline)},d(I){I&&c(l)}}}function Ae(r){let l,e,t,s,i,a,o,f,b,E,y,k,p,g,P,N,T,U,I,_,C,G;function z(v,V){if(v[4])return Ne;if(!v[4])return Te}let L=z(r),D=L&&L(r),w=r[7]&&de(),O=r[6]&&me(r);function Z(v,V){return v[1]?Se:Oe}let H=Z(r),B=H(r);return{c(){l=u("section"),e=u("div"),t=u("form"),s=u("label"),i=R("Search user"),a=S(),o=u("div"),f=u("input"),b=S(),E=u("button"),y=R("Submit"),k=S(),p=u("button"),g=R("Reset"),P=S(),D&&D.c(),N=S(),w&&w.c(),T=S(),O&&O.c(),U=S(),I=u("section"),_=u("div"),B.c(),this.h()},l(v){l=h(v,"SECTION",{});var V=m(l);e=h(V,"DIV",{class:!0});var x=m(e);t=h(x,"FORM",{class:!0});var W=m(t);s=h(W,"LABEL",{for:!0});var $=m(s);i=j($,"Search user"),$.forEach(c),a=A(W),o=h(W,"DIV",{class:!0});var q=m(o);f=h(q,"INPUT",{type:!0,name:!0,class:!0}),b=A(q),E=h(q,"BUTTON",{type:!0,class:!0});var ee=m(E);y=j(ee,"Submit"),ee.forEach(c),k=A(q),p=h(q,"BUTTON",{type:!0,class:!0});var te=m(p);g=j(te,"Reset"),te.forEach(c),q.forEach(c),W.forEach(c),x.forEach(c),P=A(V),D&&D.l(V),N=A(V),w&&w.l(V),T=A(V),O&&O.l(V),V.forEach(c),U=A(v),I=h(v,"SECTION",{});var le=m(I);_=h(le,"DIV",{class:!0});var se=m(_);B.l(se),se.forEach(c),le.forEach(c),this.h()},h(){d(s,"for","User"),d(f,"type","text"),d(f,"name","user"),d(f,"class","svelte-1e9hh7o"),d(E,"type","submit"),d(E,"class","svelte-1e9hh7o"),d(p,"type","reset"),d(p,"class","svelte-1e9hh7o"),d(o,"class","form-area svelte-1e9hh7o"),d(t,"class","svelte-1e9hh7o"),d(e,"class","section1"),d(_,"class","users")},m(v,V){M(v,l,V),n(l,e),n(e,t),n(t,s),n(s,i),n(t,a),n(t,o),n(o,f),ae(f,r[0]),n(o,b),n(o,E),n(E,y),n(o,k),n(o,p),n(p,g),n(l,P),D&&D.m(l,null),n(l,N),w&&w.m(l,null),n(l,T),O&&O.m(l,null),M(v,U,V),M(v,I,V),n(I,_),B.m(_,null),C||(G=[X(f,"input",r[11]),X(p,"click",r[10]),X(t,"submit",Ee(r[8]))],C=!0)},p(v,[V]){V&1&&f.value!==v[0]&&ae(f,v[0]),L===(L=z(v))&&D?D.p(v,V):(D&&D.d(1),D=L&&L(v),D&&(D.c(),D.m(l,N))),v[7]?w||(w=de(),w.c(),w.m(l,T)):w&&(w.d(1),w=null),v[6]?O?O.p(v,V):(O=me(v),O.c(),O.m(l,null)):O&&(O.d(1),O=null),H===(H=Z(v))&&B?B.p(v,V):(B.d(1),B=H(v),B&&(B.c(),B.m(_,null)))},i:F,o:F,d(v){v&&c(l),D&&D.d(),w&&w.d(),O&&O.d(),v&&c(U),v&&c(I),B.d(),C=!1,ke(G)}}}function Pe(r,l,e){let t="",s,i=!1,a;console.log("dom | avatar: ",a);let o=null,f=!1,b=!0,E=!1,y=!1;ie(oe,"whatzapp_users"),Ie(ye,_=>console.log("loggedin-user:",_));const k=async()=>{e(4,i=!0);const{docs:_,error:C}=await we("whatzapp_users",["name","==",t]);console.log("user | demo5: docs ",_),e(1,s=_),console.log("user | demo5: user ",s),e(4,i=!1)},p=async()=>{},g=()=>{let _=new Image;_.onload=function(){e(2,a.src=_.src,a)},_.src=o},P=()=>{e(0,t=""),e(7,y=!1)};let N=ie(oe,"whatzapp_users");const T=De(N,_=>{let C=[];return _.docs.forEach(G=>{C.push(G.data())}),()=>T()});function U(){t=this.value,e(0,t)}function I(_){Ve[_?"unshift":"push"](()=>{a=_,e(2,a)})}return r.$$.update=()=>{r.$$.dirty&1&&(t||(e(1,s=null),e(6,E=!1),e(3,f=!1))),r.$$.dirty&2&&s&&(s.length?(o=s[0].avatar,e(3,f=!1),g(),e(5,b=!1),e(3,f=!0)):e(7,y=!0)),r.$$.dirty&12&&f&&setTimeout(()=>{e(5,b=!0),console.log("dom | avatar: ",a),e(6,E=!0)},1e3)},[t,s,a,f,i,b,E,y,k,p,P,U,I]}class Re extends pe{constructor(l){super();be(this,l,Pe,Ae,ge,{})}}export{Re as default};
