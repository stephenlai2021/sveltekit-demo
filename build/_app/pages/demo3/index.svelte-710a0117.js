import{S as K,i as y,s as B,e as u,j as C,t as k,c as v,a as m,d as h,l as P,g as A,ah as L,b as p,G as M,f as $,H as i,h as x,V as z,K as F}from"../../chunks/vendor-f0c1caf4.js";function H(o,e,n){const a=o.slice();return a[1]=e[n],a}function J(o){let e,n,a,c,l,s,r,t,f=o[1].fields.name.stringValue+"",D,S,E,V=o[1].fields.email.stringValue+"",b,T,I,g,j;return{c(){e=u("div"),n=u("div"),a=u("img"),l=C(),s=u("div"),r=u("main"),t=u("p"),D=k(f),S=C(),E=u("p"),b=k(V),T=C(),I=u("div"),g=u("div"),j=C(),this.h()},l(_){e=v(_,"DIV",{class:!0});var d=m(e);n=v(d,"DIV",{class:!0});var N=m(n);a=v(N,"IMG",{src:!0,alt:!0}),N.forEach(h),l=P(d),s=v(d,"DIV",{class:!0});var O=m(s);r=v(O,"MAIN",{});var w=m(r);t=v(w,"P",{});var R=m(t);D=A(R,f),R.forEach(h),S=P(w),E=v(w,"P",{});var q=m(E);b=A(q,V),q.forEach(h),w.forEach(h),T=P(O),I=v(O,"DIV",{class:!0});var G=m(I);g=v(G,"DIV",{class:!0}),m(g).forEach(h),G.forEach(h),O.forEach(h),j=P(d),d.forEach(h),this.h()},h(){L(a.src,c=o[1].fields.avatar.stringValue)||p(a,"src",c),p(a,"alt","user avatar"),p(n,"class","img-container"),p(g,"class","box"),M(g,"online",o[1].fields.isOnline.booleanValue),p(I,"class","status"),p(s,"class","text"),p(e,"class","user-list")},m(_,d){$(_,e,d),i(e,n),i(n,a),i(e,l),i(e,s),i(s,r),i(r,t),i(t,D),i(r,S),i(r,E),i(E,b),i(s,T),i(s,I),i(I,g),i(e,j)},p(_,d){d&1&&!L(a.src,c=_[1].fields.avatar.stringValue)&&p(a,"src",c),d&1&&f!==(f=_[1].fields.name.stringValue+"")&&x(D,f),d&1&&V!==(V=_[1].fields.email.stringValue+"")&&x(b,V),d&1&&M(g,"online",_[1].fields.isOnline.booleanValue)},d(_){_&&h(e)}}}function Q(o){let e,n,a,c=o[0].documents,l=[];for(let s=0;s<c.length;s+=1)l[s]=J(H(o,c,s));return{c(){e=u("section"),n=k(`In this demo, I fetch firestore on server side with firestore REST API, the rest are the same\r
	`),a=u("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=v(s,"SECTION",{});var r=m(e);n=A(r,`In this demo, I fetch firestore on server side with firestore REST API, the rest are the same\r
	`),a=v(r,"DIV",{class:!0});var t=m(a);for(let f=0;f<l.length;f+=1)l[f].l(t);t.forEach(h),r.forEach(h),this.h()},h(){p(a,"class","users")},m(s,r){$(s,e,r),i(e,n),i(e,a);for(let t=0;t<l.length;t+=1)l[t].m(a,null)},p(s,[r]){if(r&1){c=s[0].documents;let t;for(t=0;t<c.length;t+=1){const f=H(s,c,t);l[t]?l[t].p(f,r):(l[t]=J(f),l[t].c(),l[t].m(a,null))}for(;t<l.length;t+=1)l[t].d(1);l.length=c.length}},i:z,o:z,d(s){s&&h(e),F(l,s)}}}const U="chat-app-9ff7a",W="whatzapp_users",Z=async({fetch:o})=>{const e=await o(`https://firestore.googleapis.com/v1/projects/${U}/databases/(default)/documents/${W}`);if(e.ok)return{props:{users:await e.json()}}};function X(o,e,n){let{users:a}=e;return o.$$set=c=>{"users"in c&&n(0,a=c.users)},[a]}class ee extends K{constructor(e){super();y(this,e,X,Q,B,{users:0})}}export{ee as default,Z as load};
